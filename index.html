<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Moje ToDo Appka</title>
  <link rel="icon" href="./done.png" type="image/png">
  <link rel="stylesheet" href="./src/style.css">
</head>
<body class="dark-theme">
  <div id="login-container" class="login-container">
    <div class="login-box">
      <h2>Přihlášení</h2>
      <form id="login-form">
        <div class="form-group">
          <label>Email</label>
          <input type="email" id="login-email" required>
        </div>
        <div class="form-group">
          <label>Heslo</label>
          <input type="password" id="login-password" required>
        </div>
        <button type="submit">Přihlásit</button>
        <button type="button" id="register-btn">Registrovat se</button>
      </form>
    </div>
  </div>

  <div id="app-container" class="app-container" style="display: none;">
    <button id="add-task-btn" class="desktop-add-btn">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
           fill="none" stroke="currentColor" stroke-width="2.5"
           stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 12h14"/>
        <path d="M12 5v14"/>
      </svg>
    </button>

    <div class="main-container">
      <aside class="desktop-sidebar">
        <h1>Úkoly</h1>
        <div class="subtitle" id="task-summary">Žádné úkoly</div>

        <div class="progress-section">
          <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
          </div>
          <div class="progress-text" id="progress-text">0% dokončeno</div>
        </div>

        <div class="search-section">
          <div class="search-container">
            <input type="text" id="search-input" class="search-input" placeholder="🔍 Hledat úkoly...">
            <button id="clear-search" class="clear-search-btn" style="display: none;">✕</button>
          </div>
        </div>

        <div class="filter-section">
          <h3>Filtry</h3>
          <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">📋 Všechny úkoly</button>
            <button class="filter-btn" data-filter="active">⏳ Aktivní</button>
            <button class="filter-btn" data-filter="completed">✅ Dokončené</button>
            <button class="filter-btn" data-filter="overdue">⚠️ Prošlé</button>
            <button class="filter-btn" data-filter="today">📅 Dnes</button>
            <button class="filter-btn" data-filter="deleted">🗑️ Smazané</button>
          </div>
        </div>

        <div class="stats-section">
          <h3>Statistiky</h3>
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-number" id="total-tasks">0</div>
              <div class="stat-label">Celkem</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" id="completed-today">0</div>
              <div class="stat-label">Dnes hotovo</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" id="streak-days">0</div>
              <div class="stat-label">Série dní</div>
            </div>
          </div>
        </div>

        <div class="bulk-actions-section" id="bulk-actions" style="display: none;">
          <h3>Hromadné akce</h3>
          <div class="bulk-buttons">
            <button class="bulk-btn" id="bulk-complete">Dokončit všechny</button>
            <button class="bulk-btn" id="bulk-delete">Smazat všechny</button>
            <button class="bulk-btn" id="clear-completed">Vyčistit dokončené</button>
          </div>
        </div>
      </aside>

      <main class="desktop-content">
        <div id="user-bar" style="display: flex; align-items: center; justify-content: flex-end; gap: 16px; margin-bottom: 24px;">
          <span id="user-email" style="font-weight: 500; color: #a5b4fc;"></span>
          <button id="logout-btn" class="form-btn secondary" style="padding: 8px 18px;">Odhlásit se</button>
        </div>
        <div id="new-todo-container"></div>

        <div class="advanced-input-form" id="advanced-form">
          <div class="form-grid">
            <div class="form-group full-width">
              <label class="form-label">Název úkolu</label>
              <input type="text" class="form-input" id="task-text" placeholder="Co potřebujete udělat?">
            </div>
            <div class="form-group">
              <label class="form-label">Kategorie</label>
              <select class="form-select" id="task-category">
                <option value="">Bez kategorie</option>
                <option value="work">🏢 Práce</option>
                <option value="personal">👤 Osobní</option>
                <option value="shopping">🛒 Nákupy</option>
                <option value="health">❤️ Zdraví</option>
                <option value="study">📚 Studium</option>
                <option value="finance">💰 Finance</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Priorita</label>
              <select class="form-select" id="task-priority">
                <option value="low">🟢 Nízká</option>
                <option value="medium">🟡 Střední</option>
                <option value="high">🔴 Vysoká</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Termín dokončení</label>
              <input type="date" class="form-input" id="task-due-date">
            </div>
            <div class="form-group full-width">
              <label class="form-label">Poznámky</label>
              <textarea class="form-input" id="task-notes" placeholder="Přidat poznámky k úkolu..." rows="3"></textarea>
            </div>
            <div class="form-group">
              <label class="form-label">Odhad času</label>
              <select class="form-select" id="task-time-estimate">
                <option value="">Bez odhadu</option>
                <option value="15">⏱️ 15 minut</option>
                <option value="30">⏱️ 30 minut</option>
                <option value="60">⏱️ 1 hodina</option>
                <option value="120">⏱️ 2 hodiny</option>
                <option value="240">⏱️ 4 hodiny</option>
                <option value="480">⏱️ Celý den</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Opakování</label>
              <select class="form-select" id="task-repeat">
                <option value="">Neopakuje se</option>
                <option value="daily">🔄 Denně</option>
                <option value="weekly">🔄 Týdně</option>
                <option value="monthly">🔄 Měsíčně</option>
              </select>
            </div>
          </div>
          <div class="form-buttons">
            <button class="form-btn secondary" id="cancel-btn">Zrušit</button>
            <button class="form-btn primary" id="save-btn">💾 Uložit úkol</button>
          </div>
        </div>

        <div id="todo-list"></div>

        <div class="empty-state" id="empty-state">
          <div class="empty-state-icon">📝</div>
          <div class="empty-state-title">Žádné úkoly</div>
          <div class="empty-state-subtitle">Začněte přidáním nového úkolu pomocí tlačítka + vpravo dole</div>
        </div>
      </main>
    </div>
  </div>

  <script type="module" src="./src/main.js"></script>
</body>
</html>